<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Apply An Object-Oriented Paradigm To Computational Health Economic Models</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Apply An Object-Oriented Paradigm To
Computational Health Economic Models</h1>



<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(ready4)</span></code></pre></div>
<div id="motivation" class="section level2">
<h2>Motivation</h2>
<p>The practical utility and ease of use of computational health
economic models are in part shaped by the choice of programming paradigm
used to develop them. ready4 adopts an object oriented programming (OOP)
paradigm which in practice means that the framework principally consists
of classes (representations of data structures useful for modelling
health systems) and methods (algorithms that can be applied to these
data-structures to generate insight useful for policy-making). Adopting
an OOP approach is particular useful for helping to make models <a href="https://www.ready4-dev.com/docs/getting-started/motivation/">transparent,
reusable and updatable</a>.</p>
</div>
<div id="implementation" class="section level2">
<h2>Implementation</h2>
<div id="modular-computational-models" class="section level3">
<h3>Modular Computational Models</h3>
<p>Two commonly noted features of OOP - encapsulation and inheritance
are particularly useful when developing <a href="https://www.ready4-dev.com/docs/tutorials/develop-models/modularity/">modular
computational health economic models</a>.</p>
<div id="encapsulation" class="section level4">
<h4>Encapsulation</h4>
<p>Encapsulation allows us to define the data structures (“classes”)
used in computational modelling projects in a manner that allows them to
be safely combined. For example, assume there are two computational
health economic models, one (<strong>A</strong>) focused on predicting
the types and intensity of services used by individuals that present to
health services and the other (<strong>B</strong>) that <a href="https://ready4-dev.github.io/youthu/articles/Prediction_With_Mdls.html">predicts
outcomes for recipients of these services</a>. It may be desirable to
develop a new model (<strong>C</strong>) that combines
<strong>A</strong> and <strong>B</strong> to model both service use and
outcomes. Using encapsulated code allows all of the features and
functionality of <strong>A</strong> to be made available to
<strong>B</strong> in a manner that protects the integrity of
<strong>A</strong>. Specifically, <strong>B</strong> can only interact
with <strong>A</strong> using the algorithms (“methods”) that have been
already defined for <strong>A</strong>.</p>
<p>Furthermore, if appropriately implemented, methods associated with a
class will work with any combination of input values that can be
encapsulated by that class - making computational models more <a href="https://www.ready4-dev.com/docs/getting-started/concepts/transferable/">transferable</a>.
For example, imagine a class (<strong>X</strong>) that is used to
structure summary data relevant to health systems. Methods associated
with <strong>X</strong> (e.g. a method to derive an unmet need
statistic) can then applied to two instances of <strong>X</strong> - one
containing data relevant to the Australian context and one with data
from the UK context.</p>
</div>
<div id="inheritence" class="section level4">
<h4>Inheritence</h4>
<p>The examples highlighted in the previous section have some potential
limitations. What if the developers of <strong>A</strong> didn’t define
methods that would allow <strong>B</strong> to interact with it in the
desired way? Or what if there are a number of differences between the
Australian and UK system that need to be accounted for when transferring
a method from the former to the latter? These types of issues can be
addressed by another key feature of OOP - inheritance. Inheritance
allows for a “child” class to be created from a “parent” class. By
default, the “child” inherits all of the features of the “parent”
including all methods associated with the “parent” class. Importantly
however, alternative or additional features can also be specified for
the “child” to allow it to implement different methods where necessary.
For example, when developing our new computational model
<strong>C</strong> we could create a number of new classes that are
children of the classes defined in <strong>A</strong>. We can then
define any additional/alternative methods for these classes that
overcome any integration issues between the classes and methods of
<strong>A</strong> and <strong>B</strong>. In this way, we can enjoy the
best of both worlds - leveraging all relevant algorithms from
<strong>A</strong> and <strong>B</strong> (as there is no need to
re-invent the wheel), while ensuring that we transparently develop the
additional code required for <strong>C</strong>. This approach also
ensures that the respective contributions of the (potentially different)
authorship teams behind <strong>A</strong>, <strong>B</strong> and
<strong>C</strong> is clearer.</p>
<p>Similarly, inheritance would allow re-use of much of the code from a
model of the Australian health system when exploring similar topics
within the UK context, while making it straightforward to develop
additional code that addresses relevant divergence in features between
the two jurisdictions. In practical terms, this would mean developing
two child classes of <strong>X</strong> - class <strong>Y</strong> for
use with Australian data and class <strong>Z</strong> for use in the UK
system. All methods that are not specific to a particular jurisdiction
are defined for <strong>X</strong> and inherited by <strong>Y</strong>
and <strong>Z</strong>. Methods that are only appropriate for use in the
Australian context are defined for <strong>Y</strong>, while UK specific
methods are defined for <strong>Z</strong>.</p>
</div>
</div>
<div id="transparent-computational-models" class="section level3">
<h3>Transparent Computational Models</h3>
<p>To make modelling analysis programs more readily understood, the
<code>ready4</code> package provides a <a href="https://www.ready4-dev.com/docs/framework/implementation/syntax/">simple
and consistent syntax</a>. Such simplified approaches are facilitated by
two other commonly noted features of OOP - polymorphism and
abstraction.</p>
<div id="polymorphism" class="section level4">
<h4>Polymorphism</h4>
<p>Polymorphism allows for similar concepts to be represented using
consistent syntax. The same top level code can therefore be generalised
to multiple model implementations, making algorithms simpler to
understand and easier to re-use.</p>
<p>Returning to a previous example, the exact same command (e.g. a call
to the method <a href="https://ready4-dev.github.io/ready4/reference/exhibit-methods.html">exhibit</a>)
can be applied to both <strong>Y</strong> (used for Australian data) and
<strong>Z</strong> (used for UK data). However, the algorithm
implemented by that command can vary based on the class that each method
is applied to (ie a different algorithm is applied when the data is
specified as being from the UK compared to being specified as
Australian).</p>
</div>
<div id="abstraction" class="section level4">
<h4>Abstraction</h4>
<p>The simplicity enabled by polymorphism is enhanced by Abstraction,
which basically means that only the briefest and easiest to comprehend
parts of the code are exposed by default to potential users. Once an
instance of a model module template class is created, the entire program
to ingest model data, analyse it and produce a scientific summary can be
represented in a few brief lines of code, readily comprehensible to
non-coders. When using open source languages, the elegance and
simplicity of abstraction <a href="https://www.ready4-dev.com/docs/framework/use/authoring-modules/authoring-algorithms/">does
not restrict the ability of more technically minded users exploring the
detailed workings of the underpinning code</a>.</p>
</div>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
